<!-- SKIP NAV -->
<a href="#contents" id="skip_nav">본문 바로가기</a>

<!-- HEADER -->
<!-- 이전 페이지 이동은 페이지에 맞춰 처리 필요 -->
<header id="header" class="hd_bg02">
  <div class="inner">
    <h1>
      <a href="/" class="hd_icon logo">
        <span>ART GUIDE RUN 메인 페이지로 이동</span>
      </a>
    </h1>
    <div class="hd_flex">
      <a href="./search/search.html" class="hd_icon icon01">
        <span>검색 페이지로 이동</span>
      </a>
      <button
        type="button"
        class="menu_btn hd_icon icon02"
        onClick="menuOpenClick()"
      >
        <span>카테고리 메뉴 보기</span>
      </button>
    </div>
  </div>
</header>
<header id="header">
  <div class="inner">
    <div class="hd_flex">
      <button type="button" class="hd_icon icon03">
        <span>이전 페이지로 이동</span>
      </button>
      <h1>타이틀</h1>
    </div>
    <button
      type="button"
      class="menu_btn hd_icon icon04"
      onClick="menuOpenClick()"
    >
      <span>카테고리 메뉴 보기</span>
    </button>
  </div>
</header>
<header id="header">
  <div class="inner">
    <div class="hd_flex">
      <button type="button" class="hd_icon icon03">
        <span>이전 페이지로 이동</span>
      </button>
      <h1>타이틀</h1>
    </div>
    <div class="hd_flex">
      <a href="./index.html" class="hd_icon icon05">
        <span>검색 페이지로 이동</span>
      </a>
      <button
        type="button"
        class="menu_btn hd_icon icon04"
        onClick="menuOpenClick()"
      >
        <span>카테고리 메뉴 보기</span>
      </button>
    </div>
  </div>
</header>
<header id="header">
  <h1 class="hidden_text">타이틀</h1>
  <div class="inner">
    <button type="button" class="hd_icon icon03">
      <span>이전 페이지로 이동</span>
    </button>
    <div class="hd_flex">
      <a href="./index.html" class="hd_icon icon05">
        <span>검색 페이지로 이동</span>
      </a>
      <button
        type="button"
        class="menu_btn hd_icon icon04"
        onClick="menuOpenClick()"
      >
        <span>카테고리 메뉴 보기</span>
      </button>
    </div>
  </div>
</header>
<header id="header" class="hd_bg03">
  <h1 class="hidden_text">검색</h1>
  <div class="inner">
    <button type="button" class="hd_icon icon03">
      <span>이전 페이지로 이동</span>
    </button>
    <div class="hd_search">
      <form onSubmit="return false;">
        <label for="search">검색</label>
        <input
          type="text"
          name="search"
          id="search"
          class="input"
          placeholder="검색어를 입력하세요"
        />
        <div class="btns">
          <button type="button" class="delete_btn">
            <span>입력한 검색어 삭제</span>
          </button>
          <button type="submit" class="search_btn">
            <span>검색</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</header>
<header id="header">
  <div class="inner">
    <h1>타이틀</h1>
    <button type="button" class="hd_icon icon06">
      <span>카테고리 메뉴 닫기</span>
    </button>
  </div>
</header>
<header id="header">
  <div class="inner">
    <h1>타이틀</h1>
    <div class="hd_flex">
      <button type="button" class="hd_icon icon07">
        <span>메인 페이지로 이동</span>
      </button>
      <button
        type="button"
        class="menu_btn hd_icon icon04"
        onClick="menuOpenClick()"
      >
        <span>카테고리 메뉴 보기</span>
      </button>
    </div>
  </div>
</header>
<header id="header">
  <div class="inner">
    <div class="hd_flex">
      <button type="button" class="hd_icon icon03">
        <span>이전 페이지로 이동</span>
      </button>
      <h1>타이틀</h1>
    </div>
    <button type="button" class="hd_icon icon06">
      <span>카테고리 메뉴 닫기</span>
    </button>
  </div>
</header>

<!-- MOBILE_MENU -->
<div id="m_menu">
  <div class="m_header">
    <div class="inner">
      <div class="m_flex">
        <button type="button" class="back_btn" onClick="menuCloseClick()">
          <span>카테고리 메뉴 닫기</span>
        </button>
        <p>카테고리</p>
      </div>
      <button type="button" class="close_btn" onClick="menuCloseClick()">
        <span>카테고리 메뉴 닫기</span>
      </button>
    </div>
  </div>
  <nav class="gnb" aria-label="주 네비게이션">
    <ul>
      <li class="active">
        <button type="button">회사소개</button>
        <ul class="depth02">
          <li><a href="../company/company.html">회사소개</a></li>
          <li><a href="../company/organization.html">조직도</a></li>
        </ul>
      </li>
      <li>
        <button type="button">가이드런</button>
        <ul class="depth02">
          <li><a href="../product/list_guide_run.html">1:1 컨설팅</a></li>
          <li><a href="javascript:;">클래스</a></li>
          <li><a href="javascript:;">포트폴리오 멘토링</a></li>
          <li><a href="javascript:;">공모사업 지원가이드</a></li>
        </ul>
      </li>
      <li>
        <button type="button">딥파인더</button>
        <ul class="depth02">
          <li><a href="../product/list_deep_finder.html">예술인 등록</a></li>
          <li><a href="javascript:;">작품 저작권 등록</a></li>
          <li><a href="javascript:;">협회가입, 작품등록</a></li>
          <li><a href="javascript:;">기획운영 대행</a></li>
          <li><a href="javascript:;">디지털 퍼블리싱</a></li>
        </ul>
      </li>
      <li>
        <button type="button">아트마켓</button>
        <ul class="depth02">
          <li><a href="../product/list_art_market.html">공연</a></li>
          <li><a href="javascript:;">작품</a></li>
          <li><a href="javascript:;">판매</a></li>
        </ul>
      </li>
      <li>
        <button type="button">아트게더링</button>
        <ul class="depth02">
          <li><a href="../gathering/gathering_list.html">게더링</a></li>
          <li><a href="../gathering/artist_list.html">아티스트</a></li>
          <li><a href="../gathering/work_list.html">작품 소개</a></li>
          <li><a href="../gathering/vod_list.html">VOD</a></li>
          <li><a href="../gathering/sheet_share_list.html">점자 악보</a></li>
        </ul>
      </li>
      <li>
        <button type="button">소식</button>
        <ul class="depth02">
          <li><a href="../news/notice.html">공지사항</a></li>
          <li><a href="../news/faq.html">자주 묻는 질문</a></li>
          <li><a href="../news/contact.html">문의하기</a></li>
          <li><a href="../news/promotion.html">홍보, 광고문의</a></li>
        </ul>
      </li>
    </ul>
  </nav>
</div>

<script>
  // 메뉴 열기/닫기 click
  const menuOpenClick = () => {
    $("#m_menu").addClass("show");
    $("#m_menu a, #m_menu button").eq(0).focus();
  };
  const menuCloseClick = () => {
    $("#m_menu").removeClass("show");
    $("#contents a, #contents button, #contents input").eq(0).focus();
  };

  $(window).on("load", function () {
    // header init
    const index = $("body")
      .attr("class")
      .split(" ")
      .filter((className) => className.startsWith("hd_type"))
      .map((className) => className.slice(-1));
    $(`#header:not(:nth-of-type(${index}))`).remove();
    $("#header").css("display", "block");

    // depth01 focus & click
    $("#m_menu .gnb > ul > li > button").on("click focus", function () {
      $(this).parent().addClass("active").siblings().removeClass("active");
    });

    // 메뉴 Tab 이동 제어
    $("#contents a, #contents button, #contents input")
      .eq(0)
      .on("keydown", function (e) {
        if (
          $("#m_menu").css("display") === "block" &&
          e.shiftKey &&
          e.key === "Tab"
        ) {
          e.preventDefault();
          $("#header .menu_btn").focus();
        }
      });
    $("#header .menu_btn").on("keydown", function (e) {
      if (!$("#m_menu").hasClass("show") && !e.shiftKey && e.key === "Tab") {
        e.preventDefault();
        if ($(".sticky_menu .tab_area").length > 0)
          $(".sticky_menu .tab_area button, .sticky_menu .tab_area a")
            .first()
            .focus();
        else $("#contents a, #contents button, #contents input").eq(0).focus();
      }
    });
    $("#m_menu .back_btn").on("keydown", function (e) {
      if (e.shiftKey && e.key === "Tab") {
        e.preventDefault();
        $("#m_menu .gnb > ul > li")
          .last()
          .addClass("active")
          .siblings()
          .removeClass("active");
        $("#m_menu .gnb > ul > li > button").last().focus();
      }
    });
    $("#m_menu a, #m_menu button")
      .last()
      .on("keydown", function (e) {
        if (!e.shiftKey && e.key === "Tab") {
          e.preventDefault();
          $("#m_menu .back_btn").focus();
        }
      });
  });
</script>
